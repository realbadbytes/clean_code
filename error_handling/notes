error handling routines should not obscure code logic

